(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1444:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>C});var r=t(5734),n=t(4038),s=t(1520),l=t(4020);t(4746);var o=t(6124);function c(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,o.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...t})}function i(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,o.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...t})}function d(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,o.cn)("leading-none font-semibold",a),...t})}function u(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,o.cn)("text-muted-foreground text-sm",a),...t})}function m(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,o.cn)("px-6",a),...t})}function p(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,o.cn)("flex items-center px-6 [.border-t]:pt-6",a),...t})}var x=t(974),v=t(7804),f="Progress",[h,g]=(0,x.A)(f),[b,N]=h(f),j=n.forwardRef((e,a)=>{var t,n,s,l;let{__scopeProgress:o,value:c=null,max:i,getValueLabel:d=_,...u}=e;(i||0===i)&&!P(i)&&console.error((t="".concat(i),n="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(n,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let m=P(i)?i:100;null===c||S(c,m)||console.error((s="".concat(c),l="Progress","Invalid prop `value` of value `".concat(s,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let p=S(c,m)?c:null,x=I(p)?d(p,m):void 0;return(0,r.jsx)(b,{scope:o,value:p,max:m,children:(0,r.jsx)(v.sG.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":I(p)?p:void 0,"aria-valuetext":x,role:"progressbar","data-state":k(p,m),"data-value":null!=p?p:void 0,"data-max":m,...u,ref:a})})});j.displayName=f;var w="ProgressIndicator",y=n.forwardRef((e,a)=>{var t;let{__scopeProgress:n,...s}=e,l=N(w,n);return(0,r.jsx)(v.sG.div,{"data-state":k(l.value,l.max),"data-value":null!=(t=l.value)?t:void 0,"data-max":l.max,...s,ref:a})});function _(e,a){return"".concat(Math.round(e/a*100),"%")}function k(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function I(e){return"number"==typeof e}function P(e){return I(e)&&!isNaN(e)&&e>0}function S(e,a){return I(e)&&!isNaN(e)&&e<=a&&e>=0}function A(e){let{className:a,value:t,...n}=e;return(0,r.jsx)(j,{"data-slot":"progress",className:(0,o.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...n,children:(0,r.jsx)(y,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}y.displayName=w;let C=()=>{let e=(0,l.useRouter)(),[a,t]=(0,n.useState)(""),[o,x]=(0,n.useState)(""),[v,f]=(0,n.useState)(""),[h,g]=(0,n.useState)(0),[b,N]=(0,n.useState)(!1),j=async t=>{t.preventDefault(),f(""),g(0),N(!0);let r=setInterval(()=>{g(e=>e>=90?e:e+10)},200);try{let t=await s.A.post("http://localhost:3001/api/auth/login",{email:a,password:o});clearInterval(r),g(100);let n=t.data.access_token;if(!n)throw Error("Token non ricevuto");localStorage.setItem("token",n),setTimeout(()=>{e.push("/")},300)}catch(e){clearInterval(r),g(0),N(!1),f("Credenziali errate o utente non trovato.")}};return(0,r.jsx)("div",{className:"areaLogin   ",children:(0,r.jsxs)(c,{className:" bg-white/50 backdrop-blur-sm shadow-lg rounded-lg p-6 max-w-2xl mx-auto",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(d,{className:"text-center text-3xl",children:"Login"}),(0,r.jsx)(u,{className:"text-center",children:"Accedi al tuo account"})]}),(0,r.jsxs)("form",{onSubmit:j,children:[(0,r.jsxs)(m,{children:[(0,r.jsx)("input",{className:"input",type:"text",placeholder:"Email",value:a,onChange:e=>t(e.target.value),required:!0,disabled:b}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{className:"input",type:"password",placeholder:"Password",value:o,onChange:e=>x(e.target.value),required:!0,disabled:b}),v&&(0,r.jsx)("p",{style:{color:"red"},children:v})]}),(0,r.jsx)(p,{className:"mt-7",children:(0,r.jsx)("button",{id:"bottoneaccedi",type:"submit",className:"input mr-12",disabled:b,children:b?"Accesso in corso...":"Accedi"})}),b&&(0,r.jsx)(A,{value:h,className:"mt-4"})]})]})})}},4746:()=>{},6124:(e,a,t)=>{"use strict";t.d(a,{cn:()=>s});var r=t(8404),n=t(2980);function s(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,n.QP)((0,r.$)(a))}},9987:(e,a,t)=>{Promise.resolve().then(t.bind(t,1444))}},e=>{e.O(0,[59,185,983,265,538,358],()=>e(e.s=9987)),_N_E=e.O()}]);